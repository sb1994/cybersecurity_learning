Iniitail details:
Room = [Network Services](https://tryhackme.com/room/networkservices)
Victim = **10.10.156.219**
Attacker = **10.9.18.195**

1. Ran nmap to see the ports are open got 1 basic result  
```shell
nmap -p1-10000 -T3 -oN scanport 10.10.6.10


Starting Nmap 7.92 ( https://nmap.org ) at 2022-11-25 20:42 EST
Nmap scan report for 10.10.6.10
Host is up (0.021s latency).
Not shown: 9999 closed tcp ports (reset)
PORT   STATE SERVICE
21/tcp open  ftp

Nmap done: 1 IP address (1 host up) scanned in 3.55 seconds

```
- Found that port 21(FTP) is open 
2. Got the number of ports that are open incorrect so I when for a more full scan using the XMAS flag to find that there is also port 80(HTTP) open
```shell
nmap -p1-10000 -T3 -sX -oN scan1 10.10.6.10 --vv

Starting Nmap 7.92 ( https://nmap.org ) at 2022-11-25 20:54 EST
Initiating Ping Scan at 20:54
Scanning 10.10.6.10 [4 ports]
Completed Ping Scan at 20:54, 0.07s elapsed (1 total hosts)
Initiating Parallel DNS resolution of 1 host. at 20:54
Completed Parallel DNS resolution of 1 host. at 20:54, 0.00s elapsed
Initiating XMAS Scan at 20:54
Scanning 10.10.6.10 [10000 ports]
Completed XMAS Scan at 20:54, 3.04s elapsed (10000 total ports)
Nmap scan report for 10.10.6.10
Host is up, received reset ttl 63 (0.014s latency).
Scanned at 2022-11-25 20:54:08 EST for 3s
Not shown: 9998 closed tcp ports (reset)
PORT   STATE         SERVICE REASON
21/tcp open|filtered ftp     no-response
80/tcp open|filtered http    no-response

Read data files from: /usr/bin/../share/nmap
Nmap done: 1 IP address (1 host up) scanned in 3.32 seconds
           Raw packets sent: 10006 (400.232KB) | Rcvd: 9999 (399.960KB)

```
Ran another scan with --vv inorder to get the full details of the scan
```shell
nmap -A -p1-10000 -T3 -sX -oN scan2 10.10.156.219 --vv
Starting Nmap 7.92 ( https://nmap.org ) at 2022-11-26 05:30 EST
NSE: Loaded 155 scripts for scanning.
NSE: Script Pre-scanning.
NSE: Starting runlevel 1 (of 3) scan.
Initiating NSE at 05:30
Completed NSE at 05:30, 0.00s elapsed
NSE: Starting runlevel 2 (of 3) scan.
Initiating NSE at 05:30
Completed NSE at 05:30, 0.00s elapsed
NSE: Starting runlevel 3 (of 3) scan.
Initiating NSE at 05:30
Completed NSE at 05:30, 0.00s elapsed
Initiating Ping Scan at 05:30
Scanning 10.10.156.219 [4 ports]
Completed Ping Scan at 05:30, 0.04s elapsed (1 total hosts)
Initiating Parallel DNS resolution of 1 host. at 05:30
Completed Parallel DNS resolution of 1 host. at 05:30, 0.01s elapsed
Initiating XMAS Scan at 05:30
Scanning 10.10.156.219 [10000 ports]
Completed XMAS Scan at 05:30, 7.62s elapsed (10000 total ports)
Initiating Service scan at 05:30
Scanning 2 services on 10.10.156.219
Discovered open port 80/tcp on 10.10.156.219
Discovered open|filtered port 80/tcp on 10.10.156.219 is actually open
Discovered open port 21/tcp on 10.10.156.219
Discovered open|filtered port 21/tcp on 10.10.156.219 is actually open
Completed Service scan at 05:31, 11.11s elapsed (2 services on 1 host)
Initiating OS detection (try #1) against 10.10.156.219
Retrying OS detection (try #2) against 10.10.156.219
Retrying OS detection (try #3) against 10.10.156.219
Retrying OS detection (try #4) against 10.10.156.219
Retrying OS detection (try #5) against 10.10.156.219
Initiating Traceroute at 05:31
Completed Traceroute at 05:31, 0.04s elapsed
Initiating Parallel DNS resolution of 2 hosts. at 05:31
Completed Parallel DNS resolution of 2 hosts. at 05:31, 0.01s elapsed
NSE: Script scanning 10.10.156.219.
NSE: Starting runlevel 1 (of 3) scan.
Initiating NSE at 05:31
NSE: [ftp-bounce 10.10.156.219:21] PORT response: 500 Illegal PORT command.
Completed NSE at 05:31, 1.15s elapsed
NSE: Starting runlevel 2 (of 3) scan.
Initiating NSE at 05:31
Completed NSE at 05:31, 0.28s elapsed
NSE: Starting runlevel 3 (of 3) scan.
Initiating NSE at 05:31
Completed NSE at 05:31, 0.00s elapsed
Nmap scan report for 10.10.156.219
Host is up, received echo-reply ttl 63 (0.027s latency).
Scanned at 2022-11-26 05:30:50 EST for 33s
Not shown: 9998 closed tcp ports (reset)
PORT   STATE SERVICE REASON       VERSION
21/tcp open  ftp     tcp-response vsftpd 2.0.8 or later
| ftp-anon: Anonymous FTP login allowed (FTP code 230)
|_-rw-r--r--    1 0        0             353 Apr 24  2020 PUBLIC_NOTICE.txt
| ftp-syst: 
|   STAT: 
| FTP server status:
|      Connected to ::ffff:10.9.18.195
|      Logged in as ftp
|      TYPE: ASCII
|      No session bandwidth limit
|      Session timeout in seconds is 300
|      Control connection is plain text
|      Data connections will be plain text
|      At session startup, client count was 3
|      vsFTPd 3.0.3 - secure, fast, stable
|_End of status
80/tcp open  http    tcp-response Apache httpd 2.4.29 ((Ubuntu))
|_http-server-header: Apache/2.4.29 (Ubuntu)
| http-methods: 
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-title: Apache2 Ubuntu Default Page: It works
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.92%E=4%D=11/26%OT=21%CT=1%CU=38470%PV=Y%DS=2%DC=T%G=Y%TM=6381EA
OS:FB%P=x86_64-pc-linux-gnu)SEQ(SP=104%GCD=1%ISR=108%TI=Z%CI=I%II=I%TS=A)OP
OS:S(O1=M505ST11NW7%O2=M505ST11NW7%O3=M505NNT11NW7%O4=M505ST11NW7%O5=M505ST
OS:11NW7%O6=M505ST11)WIN(W1=68DF%W2=68DF%W3=68DF%W4=68DF%W5=68DF%W6=68DF)EC
OS:N(R=Y%DF=Y%T=40%W=6903%O=M505NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=
OS:AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(
OS:R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%
OS:F=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N
OS:%T=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%C
OS:D=S)

Uptime guess: 33.196 days (since Mon Oct 24 01:49:05 2022)
Network Distance: 2 hops
TCP Sequence Prediction: Difficulty=260 (Good luck!)
IP ID Sequence Generation: All zeros
Service Info: Host: Welcome

TRACEROUTE (using port 1025/tcp)
HOP RTT      ADDRESS
1   8.84 ms  10.9.0.1
2   32.89 ms 10.10.156.219

NSE: Script Post-scanning.
NSE: Starting runlevel 1 (of 3) scan.
Initiating NSE at 05:31
Completed NSE at 05:31, 0.00s elapsed
NSE: Starting runlevel 2 (of 3) scan.
Initiating NSE at 05:31
Completed NSE at 05:31, 0.00s elapsed
NSE: Starting runlevel 3 (of 3) scan.
Initiating NSE at 05:31
Completed NSE at 05:31, 0.00s elapsed
Read data files from: /usr/bin/../share/nmap
OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 33.93 seconds
           Raw packets sent: 10161 (410.922KB) | Rcvd: 10080 (406.666KB)
           
```
 **Services running**

- 80/tcp open  http    tcp-response Apache httpd 2.4.29
- 21/tcp open  ftp     tcp-response vsftpd 2.0.8 (anonymous)

2. Ran the FTP commands to get the PUBLIC_NOTICE.txt
```shell
ftp 10.10.156.219
#entered the username anonymous(stated in the docs)

#did ls to see what is in the directory
ls -ll

ftp> ls
229 Entering Extended Passive Mode (|||31007|)
150 Here comes the directory listing.
-rw-r--r--    1 0        0             353 Apr 24  2020 PUBLIC_NOTICE.txt
```

3. Downloaded the PUBLIC_NOTICE.txt with get to download to the local folder on the attack machine and read it to find the name Mike could be a potential username 
```shell

get PUBLIC_NOTICE.txt
#on the attack machine read the file 
cat PUBLIC_NOTICE.txt 


```
![[Pasted image 20221126111758.png]]

