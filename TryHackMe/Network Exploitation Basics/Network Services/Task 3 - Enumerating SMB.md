
Enumeration is the process of gathering information on a target in order to find potential attack vectors and aid in exploitation.

This process is essential for an attack to be successful, as wasting time with exploits that either don't work or can crash the system can be a waste of energy. Enumeration can be used to gather usernames, passwords, network information, hostnames, application data, services, or any other information that may be valuable to an attacker.

**SMB**  

Typically, there are SMB share drives on a server that can be connected to and used to view or transfer files. SMB can often be a great starting point for an attacker looking to discover sensitive information — you'd be surprised what is sometimes included on these shares.

**Port Scanning**

The first step of enumeration is to conduct a port scan, to find out as much information as you can about the services, applications, structure and operating system of the target machine.  

If you haven't already looked at port scanning, I **recommend** checking out the Nmap room [here](https://tryhackme.com/room/furthernmap).

**Enum4Linux**

Enum4linux is a tool used to enumerate SMB shares on both Windows and Linux systems. It is basically a wrapper around the tools in the Samba package and makes it easy to quickly extract information from the target pertaining to SMB. It's installed by default on Parrot and Kali, however if you need to install it, you can do so from the official [github](https://github.com/portcullislabs/enum4linux).

The syntax of Enum4Linux is nice and simple: **"enum4linux [options] ip"**

**TAG**            **FUNCTION**  

-U             get userlist  
-M             get machine list  
-N             get namelist dump (different from -U and-M)  
-S             get sharelist  
-P             get password policy information  
-G             get group and member list

-a             all of the above (full basic enumeration)


What ports is **SMB** running on?
```shell
export ip=10.10.230.44 # make use of enviroment variables

-   `-sV`: service/version scan
-   `--script vuln`: run a script scan with the [vuln scripts](https://nmap.org/nsedoc/categories/vuln.html).
-   `-oN nmap-$ip.out`: output in normal format to the file

nmap -sV --script vuln -oN nmap-$ip.out $ipca

```
Check for the open ports in the file 

```shell
cat nmap-$ip.out | grep open
```
![[Pasted image 20221115002610.png]]
check out ports to get the smb ports in this case they are 445 and 139

Run emum4linux to get the group
```shell
enum4linux -G $ip
```
Run emum4linux to get the OS name and version
```shell
enum4linux -a $ip | tee enum4linux-$ip.out
```